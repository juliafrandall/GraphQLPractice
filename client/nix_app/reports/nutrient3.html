<div class="container reports-nutrient report-log-food" ng-show="vm.log && vm.me">
  <div class="row">
    <div class="col-md-12">
      <h1>
        <img class="brand-print" ng-src="https://s3.amazonaws.com/cdn4-nutritionix/images/nutritionix_logo_500px.png"
             alt="Nutritionix" src="https://s3.amazonaws.com/cdn4-nutritionix/images/nutritionix_logo_500px.png">
        Nutrient Report
      </h1>
      <div class="row">
        <div class="col-xs-5 col-md-4">
          <table class="table-user-info">
            <tr>
              <td><strong>User ID</strong></td>
              <td>{{vm.me.id}}</td>
            </tr>
            <tr>
              <td><strong>Date Range</strong></td>
              <td>
                {{vm.dateRange.begin | amDateFormat: 'M/D/YY'}} to
                {{vm.dateRange.displayEnd | amDateFormat: 'M/D/YY'}}
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-offset-3 col-md-6">

      <div class="panel panel-default panel-log-food" ng-repeat="date in vm.report.dates">
        <div class="panel-heading" >
          <h3 class="panel-title">
            <span>
              <strong>{{date| amDateFormat: 'ddd'}}</strong>
            </span>
            <span>
              {{date| amDateFormat: 'MM/DD/YY'}}
            </span>
          </h3>
          <div class="progress-wrap">
            <div class="target-calories">
              remaining
              <span>{{ vm.primaryNutrient.value - vm.report.nutrientsByDates[date][vm.primaryNutrient.id] | fdaRound: vm.primaryNutrient.round | smartNumber}}</span>
            </div>
            <div class="current-calories">
              <span>
                {{vm.report.nutrientsByDates[date][vm.primaryNutrient.id] | fdaRound: vm.primaryNutrient.round | smartNumber}}
              </span>
              {{vm.primaryNutrient.name}} intake
            </div>
            <div class="progress calorie-progress">
              <div class="progress-bar"
                   ng-class="vm.setProgressBarColor(vm.report.nutrientsByDates[date][vm.primaryNutrient.id])"
                   role="progressbar"
                   aria-valuenow="{{ (vm.report.nutrientsByDates[date][vm.primaryNutrient.id] / vm.primaryNutrient.value * 100).toFixed(0) }}"
                   aria-valuemin="0" aria-valuemax="100"
                   ng-style="{width: ((vm.report.nutrientsByDates[date][vm.primaryNutrient.id] / vm.primaryNutrient.value * 100).toFixed(0) + '%')}">
                <span class="sr-only">&nbsp;</span>
              </div>
            </div>
          </div>
        </div>
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="entry  in vm.report.entriesByDates[date]">
            <span class="badge badge-calorie">
              {{entry.full_nutrients | nutrient: vm.primaryNutrient.id: 'value' | fdaRound: vm.primaryNutrient.round | smartNumber}}
              <span class="block text-center grey note">{{vm.primaryNutrient.name}}</span>
            </span>

            {{entry.food_name| ucwords}}

            <span class="item-serving">
              <span ng-if="entry.brand_name">{{entry.brand_name}},</span>
              {{entry.serving_qty || 1}} {{entry.serving_unit}}
            </span>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="footer">
    Nutrient report generated by Nutritionix.com
    <div class="disclaimer">
      Information on this report is intended for informational purposes only. This information is not to be a substitute for professional medical advice. For general nutrition advice visit ChooseMyPlate.gov. To find a Registered Dietitian in your area visit EatRight.org.
    </div>
  </div>
</div>
