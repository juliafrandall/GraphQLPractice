<div class="modal-header">
  <h3 class="modal-title">
    <div class="pull-right" ng-if="vm.modalTitle == 'Daily Total'">{{ vm.modalDate }}</div>
    {{ vm.modalTitle }}
  </h3>
</div>
<div class="modal-body">
  <div class="row">
    <div class="col-md-6">
      <div class="nutrition-label" ng-if="vm.labelData.valueCalories > 0" nutrition-label="vm.labelData"></div>
      <ul class="nutrition-label-attr">
        <li><strong>Net Carbs:</strong> {{ vm.netCarbs }}g</li>
        <li>Phosphorus<span class="note">**</span> : {{vm.labelData.phosphorus || 0 | number: 0}} mg</li>
        <li>Caffeine<span class="note">**</span> : {{vm.labelData.caffeine || 0 | number: 0}} mg</li>
      </ul>
      <p ng-click="showMore = !showMore">
        <span class="collapse-arrow">
          <i ng-if="!showMore" class="fa fa-chevron-right"></i>
          <i ng-if="showMore" class="fa fa-chevron-down"></i>
        </span>
        <strong>View more micronutrients</strong>
      </p>
      <ul ng-if="showMore" class="nutrition-label-attr">
        <li>
          Vitamin D<span class="note">**</span> : {{(vm.labelData.vitamin_d || 0) | number: 0}} IU
        </li>
        <li>
          Vitamin E<span class="note">**</span> : {{vm.labelData.vitamin_e || 0 | number: 0}} IU
        </li>
        <li>
          Vitamin K<span class="note">**</span> : {{vm.labelData.vitamin_k || 0 | number: 0}} µg
        </li>
        <li>
          Thiamine<span class="note">**</span> : {{vm.labelData.thiamine || 0 | number: 0}} mg
        </li>
        <li>
          Riboflavin<span class="note">**</span> : {{vm.labelData.riboflavin || 0 | number: 0}} mg
        </li>
        <li>
          Niacin<span class="note">**</span> : {{vm.labelData.niacin || 0 | number: 0}} mg
        </li>
        <li>
          Pantothenic Acid<span class="note">**</span> : {{vm.labelData.pantothenic_acid || 0 | number: 0}} mg
        </li>
        <li>
          Vitamin B-6<span class="note">**</span> : {{vm.labelData.vitamin_b6 || 0 | number: 0}} mg
        </li>
        <li>
          Vitamin B-12<span class="note">**</span> : {{vm.labelData.vitamin_b12 || 0 | number: 0}} µg
        </li>
        <li>
          Folic Acid<span class="note">**</span> : {{vm.labelData.folic_acid || 0 | number: 0}} µg
        </li>
        <li>
          Zinc<span class="note">**</span> : {{vm.labelData.zinc || 0 | number: 0}} mg
        </li>
        <li>
          Magnesium<span class="note">**</span> : {{vm.labelData.magnesium || 0 | number: 0}} mg
        </li>
      </ul>
    </div>
    <div class="col-md-6">
      <div class="rounded-box" ng-if="vm.labelData.valueCalories > 0">
        <div class="box-title">
          Source of Calories
        </div>
        <div class="box-content">
          <div class="macronutrients-goals"
               ng-if="vm.goals.daily_protein_pct === null && vm.goals.daily_carbs_pct === null && vm.goals.daily_fat_pct === null">
            <div class="goal-not-set">
              <i>You haven't set any nutrient goals yet.</i>
              <a class="btn btn-success" ui-sref="account.cabinet.dailyGoals" ng-click="vm.close()">Edit Goals</a>
            </div>
          </div>

          <div class="macronutrients-goals"
               ng-if="vm.goals.daily_protein_pct !== null || vm.goals.daily_carbs_pct !== null || vm.goals.daily_fat_pct !== null">
            <p class="progress-header">
              Actual / Goal
            </p>
            <p class="progress-protein"
               ng-if="vm.goals.daily_protein_pct !== null"
               ng-class="{'over-target': vm.pieChart.data[0] > vm.goals.daily_protein_pct}">
              <span class="value">
                <span class="actual">{{vm.pieChart.data[0]}}%</span> / {{vm.goals.daily_protein_pct}}%
              </span>
              <span class="nutrient">Protein</span>
              <progressbar value="vm.pieChart.data[0] / vm.goals.daily_protein_pct * 100"></progressbar>
            </p>
            <p class="progress-carb"
               ng-if="vm.goals.daily_carbs_pct !== null"
               ng-class="{'over-target': vm.pieChart.data[1] > vm.goals.daily_carbs_pct}">
              <span class="value">
                <span class="actual">{{vm.pieChart.data[1]}}%</span> / {{vm.goals.daily_carbs_pct}}%
              </span>
              <span class="nutrient">Carbohydrate</span>
              <progressbar value="vm.pieChart.data[1] / vm.goals.daily_carbs_pct * 100"></progressbar>
            </p>
            <p class="progress-fat"
               ng-if="vm.goals.daily_fat_pct !== null"
               ng-class="{'over-target': vm.pieChart.data[2] > vm.goals.daily_fat_pct}">
              <span class="value">
                <span class="actual">{{vm.pieChart.data[2]}}%</span> / {{vm.goals.daily_fat_pct}}%
              </span>
              <span class="nutrient">Fat</span>
              <progressbar value="vm.pieChart.data[2] / vm.goals.daily_fat_pct * 100"></progressbar>
            </p>
          </div>
          <div style="height:110px;">
            <canvas class="chart chart-pie"
                    chart-data="vm.pieChart.data"
                    chart-labels="vm.pieChart.labels"
                    chart-legend="true"
                    chart-colors="['#1AA6B7', '#F0AB00', '#b3217c', '#808080']" chart-options="{
                responsive: true,
                maintainAspectRatio: false,
                legend: {
                    display: true,
                    position: 'right',
                    fullWidth: true,
                    labels: {
                      generateLabels: vm.pieChart.generateLabels,
                      boxWidth: 15
                    },
                    onClick: null
                },
                tooltips: {
                  callbacks: {
                    label: vm.pieChart.label
                  }
                }
              }">
            </canvas>
          </div>
        </div>
      </div>

      <div class="rounded-box">
        <div class="box-content">
          <label>Today's Calorie Limit:</label>
          {{vm.daily_kcal}}
        </div>
      </div>

      <div class="rounded-box" ng-if="vm.notes">
        <div class="box-title">
          Notes for this day
        </div>
        <div class="box-content">
          {{vm.notes}}
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">

    </div>
  </div>
  <div class="label-note">
    ** Please note that our restaurant and branded grocery food database does not have these attributes available, and
    if your food log contains restaurant or branded grocery foods, these totals may be incorrect. The data from these
    these attributes is for reference purpose only, and should not be used for any chronic disease management.
  </div>
</div>
<div class="modal-footer">
  <button class="btn btn-default" type="button" ng-click="vm.close()">Close</button>
</div>
